# FreeRTOS知识点梳理

# 简介篇

***

## 一、什么是FreeRTOS？

​	FreeRTOS是一个开源的实时操作系统（RTOS），设计用于嵌入式系统。它提供了一个小巧但功能强大的内核，支持多任务处理、任务调度、信号量、消息队列等特性，旨在帮助开发者在资源有限的嵌入式设备上构建可靠的实时应用程序。

​	FreeRTOS的主要特性包括：

1. **实时调度器**：支持多任务处理，可以按照优先级和时间片轮转进行任务调度，确保实时性要求得到满足。
2. **任务管理**：支持创建、删除、挂起和恢复任务，允许开发者在应用程序中组织和管理多个并发任务。
3. **信号量和互斥量**：提供了信号量（Semaphore）和互斥量（Mutex）机制，用于任务间的同步和资源共享。
4. **消息队列**：支持任务之间的消息传递，可以通过消息队列实现轻量级的通信和数据传输。
5. **软件定时器**：提供了软件定时器服务，允许开发者在RTOS内部创建和管理定时任务。
6. **事件标志组**：通过事件标志组（Event Flags）机制，支持任务之间的事件通知和等待。
7. **内存管理**：包括动态内存分配和内存保护功能，可以根据需求灵活地管理内存资源。
8. **低功耗支持**：优化了任务调度和系统响应机制，支持在嵌入式系统中实现低功耗操作。
9. **开放源代码**：基于开源许可证发布，允许开发者自由使用、修改和分发，适用于商业和非商业项目。



## 二、为什么要使用FreeRTOS系统

### 1.市场占有率大，免费开源(市场层面)

​	FreeRTOS是一款“开源免费”的实时操作系统，遵循的是GPLv2+的许可协议。这里说到的开源，指的是你可以免费得 获取到FreeRTOS的源代码，且当你的产品使用了FreeRTOS且没有修改FreeRTOS内核源码的时候，你的产品的全部代 码都可以闭源，不用开源，但是当你修改了FreeRTOS内核源码的时候，就必须将修改的这部分开源，反馈给社区， 其他应用部分不用开源。

​	同时，市面上的RTOS系统的内核实现差异并不大，只需要深入学习其中一个即可。掌握一款RTOS，切换到其他RTOS时，使用起来也会得心应手。

### 2.分析裸机与多任务系统的优缺点(技术层面)

#### 1.处理实时性任务能力强

​	单片机编程过程中，主要采用两种方式，裸机编程以及RTOS多任务系统编程。

​	常见的裸机编程采用的是轮询机制，首先初始化好硬件外设，随后让主程序在一个循环中不断循环，顺序处理各项事件。这种方式下，如果有事件处理十分耗时，将影响其余事件的处理。为了解决该问题。裸机编程中也引入了前后台机制。

​	在前后台机制中，中断作为前台系统，无限循环作为后台系统。当有外部中断时，将停止后台程序的执行，转而去执行中断服务程序。可以将简短的事情放在中断服务程序中执行，以此做到快速响应事件。适合中小型项目开发。

​	相较于前后台系统而言，多任务系统的处理方式既能够快速相应紧急任务，又可以保证其他任务的同步执行。在多任务系统中，将任务以优先级划分，优先级高的任务将优先被执行。同时，时间片轮转机制又可以使得相同优先级任务能够轮流得到CPU使用权。宏观上，所有任务得以并行处理。	

#### 2.更加有效的利用CPU资源

​	通常，在进行单片机裸机开发过程中，程序中会调用单片机提供的板机延时函数，当执行演示函数时，CPU只是单纯的在进行等待，即常说的CPU空转。而采用多任务操作系统时，当一个任务程序中调用了阻塞延时函数时，表明该任务放弃了对CPU的使用权，调度器会选择另外一个最高优先级的任务来执行。由此保证了在每一个时间片内，CPU都在执行不同的任务，能够最大程度上的发挥CPU的性能。


# 理论知识篇

***

## 一、FreeRTOS基础知识

### 1.文件说明

### 2.变量说明

### 3.列表/列表项

### 4.任务控制块



## 二、内核实现分析

 



# 实际应用篇

***

